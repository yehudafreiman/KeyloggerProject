

# Key Logger Agent

## תיאור כללי
הקוד מאזין להקשות מקלדת, מקבץ אותן לפי דקות, מציג אותן במסוף וכותב אותן לקובץ (`keyfile.txt`) בפורמט אחיד.  
בנוסף קיימת אפשרות להצפין ולפענח את קובץ הלוג בעזרת ספריית `cryptography`.

## איך זה עובד
1. מופעל מאזין מקלדת בעזרת `pynput`.
2. כל מקש נרשם תחת הדקה שבה נלחץ.
3. לחיצה על מקש רווח (SPACE) סוגרת בלוק ומעבירה אותו להיסטוריה.
4. לחיצה על מקש ESC סוגרת את הבלוק הנוכחי, מציגה את כל ההיסטוריה במסוף, כותבת הכל לקובץ, ועוצרת את ההאזנה.
5. בסיום ההאזנה, הקובץ מוצפן לקובץ חדש (`keyfile.encrypted`) ומפוענח חזרה (`keyfile_decrypted.txt`).

## דוגמת פלט
הפורמט במסוף ובקובץ זהה:

2025-08-28 14:40
[‘ע’, ‘ו’, ‘ל’, ‘ם’, Key.space]
2025-08-28 14:41
[‘w’, ‘o’, ‘r’, ‘l’, ‘d’, Key.enter, Key.esc]

## קבצים שנוצרים
- keyfile.txt – לוג טקסטואלי של כל ההקשות
- keyfile.encrypted – גרסה מוצפנת של הלוג
- keyfile_decrypted.txt – פענוח של הלוג המוצפן
- key.key – מפתח ההצפנה

## מחלקות עיקריות
- KeyLoggerService – מנהל את מצב ההקלדות והבלוקים
- KeyLoggerManager – אחראי על ההאזנה וההתנהגות בזמן אמת
- FileWriter – כותב את הנתונים לקובץ בפורמט אחיד
- Encryptor – יוצר מפתח ומבצע הצפנה ופענוח של קבצים
- NetworkWriter – מחלקה ריקה (טרם מומשה)

## דרישות
- Python 3.10 ומעלה
- ספריות צד שלישי:  
  `pynput`, `cryptography`

התקנה:
```bash
pip install pynput cryptography

הפעלה

python main.py

במהלך ההרצה:
	•	התוכנית מאזינה להקשות מקלדת
	•	לחיצה על ESC שומרת את כל הלוג לקובץ ועוצרת את ההאזנה
	•	בסיום מתבצעת הצפנה ופענוח לדוגמה של הקובץ

