


סקירת מערכת – Keylogger Management System

מבוא

המערכת מהווה פתרון מלא לניטור, איסוף וניהול לוגים של הקלדות (Keylogs) ממספר מחשבים מרוחקים.
המערכת בנויה באופן מודולרי ומורכבת משלושה חלקים עיקריים:
	1.	סוכן מקומי (Keylogger Agent – keylogger.py)
רץ על מחשב הקצה, אוסף את ההקלדות ושולח אותן בצורה מאובטחת לשרת.
	2.	שרת מרכזי (Flask Backend – app.py)
מנהל את כל התקשורת עם הסוכנים, שומר את הלוגים, ומספק ממשק API לניהול המשתמשים והמכונות.
	3.	ממשק משתמש (Frontend – HTML)
מספק דשבורד גרפי נוח לשימוש, דרכו ניתן להתחבר, לבחור מכונה, להציג את הנתונים, לבצע חיפושים מתקדמים ואף למחוק לוגים.



רכיבי המערכת

1. הסוכן (keylogger.py)
	•	משתמש בספריית pynput כדי לנטר לחיצות מקשים בזמן אמת.
	•	שומר את המידע שנקלט בקובץ לוקאלי בפורמט JSON.
	•	שולח את הלוגים לשרת בפרקי זמן קבועים, כשהם מוצפנים באמצעות ספריית cryptography.

התאמות לפי מערכת הפעלה

קיימות שתי גרסאות של הסוכן:
	•	Keylogger for Mac/Linux: משתמש בספריות pynput, cryptography, requests.
	•	Keylogger for Windows: בנוסף לספריות הנ”ל נדרש להתקין גם את pywin32. ספרייה זו מאפשרת:
	•	הרצה שקטה ברקע כשירות (Windows Service).
	•	טיפול במיפוי מקשים ותווים מיוחדים ייחודיים ל־Windows.
	•	שימוש ב־Windows Console API לשליטה מתקדמת.



2. השרת (app.py)

השרת כתוב ב־Flask ומספק ממשק REST API לניהול המערכת.
תפקידיו:
	•	קבלת נתונים מהסוכנים ושמירתם בתיקיות ייעודיות לכל מכונה.
	•	ניהול משתמשים:
	•	/api/addUser – הוספת משתמש.
	•	/api/deleteUser – מחיקת משתמש.
	•	/api/validateUser – אימות כניסה.
	•	ניהול מכונות:
	•	/api/getTargetMachinesList – קבלת רשימת מכונות פעילות.
	•	/api/getData/<machine> – הצגת נתוני לוג של מכונה.
	•	/api/deleteLogs/<machine> – מחיקת לוגים.
	•	/api/toggle – הפעלה/כיבוי של איסוף לוגים.



3. ממשק המשתמש (Frontend)

log_in.html – מסך התחברות
	•	אפשרויות: Login, Add User, Delete User.
	•	כפתורים מעוצבים בצורה אחידה (ירוק = התחברות, כחול = הוספה, אדום = מחיקה).
	•	הודעות שגיאה/הצלחה מוצגות למשתמש בצורה ברורה.

WebsiteView.html – דשבורד מכונות
	•	מציג את רשימת המכונות המחוברות.
	•	כל מכונה מופיעה ככפתור לחיץ המוביל לעמוד הפירוט שלה.
	•	כולל כפתור Log Out מעוצב בצבע אדום.

individualUinit.html – מסך פירוט מכונה
	•	מציג את כל הלוגים של מכונה נבחרת.
	•	כולל סרגל חיפוש מתקדם: חיפוש לפי זמן, אפליקציה או מילה.
	•	מאפשר מחיקת לוגים ורענון בלחיצת כפתור.
	•	כולל מתג Toggle להפעלה/כיבוי של איסוף הלוגים בזמן אמת.
	•	התצוגה בנויה באמצעות <details>/<summary> שמאפשרים פתיחה וסגירה של סעיפים.



הפעלה

שרת

pip install flask pynput cryptography
python app.py

ברירת מחדל – http://127.0.0.1:5000

סוכן (Agent)

Mac/Linux

pip install pynput cryptography requests
python keylogger.py

Windows

pip install pynput cryptography requests pywin32
python keylogger.py

הרצה ב־Windows דורשת הפעלה בהרשאות מנהל (Admin).




